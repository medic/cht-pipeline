version: 2

sources:
  - name: couchdb
    database: "{{ env_var('POSTGRES_DB') }}"
    schema: "{{ env_var('POSTGRES_SCHEMA') }}"
    tables:
      - name: "{{ env_var('POSTGRES_TABLE') }}"
models:
  - name: document_metadata
    config:
      contract:
        enforced: true
    columns:
      - name: uuid
        data_type: string
        constraints:
          - type: unique
      - name: saved_timestamp
        data_type: timestamp
      - name: _deleted
        data_type: boolean
      - name: doc_type
        data_type: string
