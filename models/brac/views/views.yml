version: 2

models:
  - name: ancview_pregnancy
    columns:
      - name: uuid
        tests:
          - not_null
          - unique
          - relationships:
              to: ref('useview_pregnancy')
              field: uuid
      - name: reported_by
        tests:
          - not_null
      - name: form
        tests:
          - not_null
          - accepted_values:
              values: [pregnancy]
  - name: form_metadata
    columns:
      - name: uuid
        tests:
          - not_null
          - unique
          - relationships:
              to: ref('couchdb')
              field: doc ->> '_id'
      - name: reported_by
        tests:
          - not_null
      - name: chw
        tests:
          - not_null
      - name: form
        tests:
          - not_null
      - name: formname
        tests:
          - not_null
  - name: impactview_month
    columns:
      - name: month
        tests:
          - not_null
      - name: epoch
        tests:
          - not_null
  - name: formview_immunization_follow_up
    columns:
      - name: uuid
        tests:
          - not_null
          - unique
          - relationships:
              to: ref('couchdb')
              field: doc ->> '_id'
